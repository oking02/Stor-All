<!DOCTYPE html>
<html>
<head>
  	<title>Stor-All</title>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
 	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  	<script src="scripts.js"></script>
  	<script id="javaScript" src=""></script>

  	<script>

  		$.get("http://localhost:27777/storall?js", function(data, status){

    		$("#javaScript").attr("src", data);
  		});

  	</script>

</head>

<body onload="startTime()" onload="updateCount()">

  <div class="container">
	  <div class="jumbotron">
	    <h1>Stor-All</h1> 
	    <p>A workspace management system.</p>
	    <p id="timeDisplay"></p>
	  </div>
  </div>


	<div class="container">
	  <ul class="nav nav-tabs">
	    <li class="active"><a href="#">Home</a></li>
	    <li class="dropdown">
	    	<a class="dropdown-toggle" data-toggle="dropdown" href="#">
	    		Experiment<span class="caret"></span>
	    	</a>
				<ul class="dropdown-menu">
			        <li id="expAddBtm" type="button"><a href="#">Add New</a></li>
			        <li id="expAddAnaBtm"><a href="#">Add Analysis</a></li>
			        <li id="expAddNotesBtm"><a href="#">Add Notes</a></li>
			        <li id="expFind"><a href="#">Find</a></li> 
		      </ul>
	    </li>

	    <li class="dropdown">
	    	<a class="dropdown-toggle" data-toggle="dropdown" href="#">
	    		Project<span class="caret"></span>
	    	</a>
				<ul class="dropdown-menu">
			        <li id="proAddBtm"><a href="#">Add New</a></li>
			        <li id="proAddNotesBtm"><a href="#">Add Notes</a></li>
			        <li id="proFind"><a href="#">Find</a></li> 
		      </ul>
	    </li>

	    <li class="dropdown">
	    	<a class="dropdown-toggle" data-toggle="dropdown" href="#">
	    		Read<span class="caret"></span>
	    	</a>
				<ul class="dropdown-menu">
			        <li id="readAddBtm"><a href="#">Add New</a></li>
			        <li id="readAddNotesBtm"><a href="#">Add Notes</a></li>
			        <li id="readFind"><a href="#">Find</a></li> 
		      </ul>
	    </li>

	     <li id="systemPageBtm"><a href="#">System Status</a></li>

	    <li class="dropdown">
	    	<a class="dropdown-toggle" data-toggle="dropdown" href="#">
	    		Help<span class="caret"></span>
	    	</a>
				<ul class="dropdown-menu">
			        <li><a href="#">Collection Types</a></li>
			        <li><a href="#">How To Use</a></li>
			        <li><a href="#">Find</a></li>
			        <li id="changeServerDetailsBtm"><a href="#">Change Server Details</a></li>  
		      </ul>
	    </li>

	  </ul>
	</div>


 <!-- - - - - -  - - -  - -Experiment Section - - - - - - - -  - -   -->


<div class="container">
	<div class="row" >

	    <form role="form" id="AddExperiment">

	        <div class="form-group" class="col-xs-4">
	          <label for="pIDe">ProjectID:</label>
	          <input type="text" class="form-control" id="pIDe" placeholder="Enter Project ID">
	        </div>

	        <div class="form-group" class="col-xs-4">
	          <label for="rIDe">ReadID:</label>
	          <input type="text" class="form-control" id="rIDe" placeholder="Enter Read ID">
	        </div>	        
	        <button type="button" class="btn btn-primary" id="newExpSubBtm">Submit</button>

	        <div class="alert alert-success alert-dismissible" role="alert" id="expAddSuccess">
 				 <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  				Experiment Created!
			</div>

			<div class="alert alert-danger alert-dismissible" role="alert" id="expAddFail">
 				 <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  				Server Error: 
			</div>
	        
	    </form>

	    <form id="AddAnalysis" >

		      	<div class="form-group" class="col-xs-4">
		          <label for="expIDa">Experiment ID:</label>
		          <input type="text" class="form-control" id="expIDa" placeholder="Enter ID">
		        </div>

		        <div class="form-group" class="col-xs-4">
		          <label for="info">Parameter Info</label>
		          <input type="text" class="form-control" id="info" placeholder="Enter Info">
		        </div>

		        <div class="form-group" class="col-xs-4">
		          <label for="aloc">Location</label>
		          <input type="text" class="form-control" id="aloc" placeholder="Enter Location Path">
		        </div>
		        <button type="button" class="btn btn-primary" id="addAnaSubBtm">Submit</button>

		        <div class="alert alert-success alert-dismissible" role="alert" id="expAnaSuccess">
 				 <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  				Analysis Added
			</div>

			<div class="alert alert-danger alert-dismissible" role="alert" id="expAnaFail">
 				 <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  				Server Error: 
			</div>
		</form>

		<form id="AddExperimentNotes">
			<div class="form-group">
		      	<div class="form-group" class="col-xs-4">
		          <label for="expIDn">Experiment ID:</label>
		          <input type="text" class="form-control" id="expIDn" placeholder="Enter ID">
		        </div>

	  			<label for="note">Notes:</label>
	 			<textarea class="form-control" rows="5" id="note" placeholder="Any notes you would like to add"></textarea>
	 			<button type="button" class="btn btn-primary" id="expAddNoteSubBtm">Submit</button>
			</div>	
		</form>

		<form id="FindExperiment">
			<div class="form-group">
		      	<div class="form-group" class="col-xs-4">
		          <label for="expIDf">Experiment ID:</label>
		          <input type="text" class="form-control" id="expIDf" placeholder="Enter ID">
		        </div>	
		        <button type="button" class="btn btn-primary" id="findExpSubBtm">Submit</button>		
			</div>	
		</form>
	</div>
</div>


 <!-- - - - - -  - - -  - -Project Section - - - - - - - -  - -   -->


<div class="container">
	<div class="row" >

	    <form role="form" id="AddProject">
	        <div class="form-group" class="col-xs-4">
	          <label for="owner">Owner:</label>
	          <input type="text" class="form-control" id="owner" placeholder="Enter Project Owner">
	        </div>
	        <button type="button" class="btn btn-primary" id="newProSubBtm">Submit</button>
	    </form>	

	    <form id="AddProjectNotes">
			<div class="form-group">
		      	<div class="form-group" class="col-xs-4">
		          <label for="pIDn">Project ID:</label>
		          <input type="text" class="form-control" id="pIDn" placeholder="Enter ID">
		        </div>

	  			<label for="pnote">Notes:</label>
	 			<textarea class="form-control" rows="5" id="pnote" placeholder="Any notes you would like to add"></textarea>
	 			<button type="button" class="btn btn-primary" id="proAddNoteSubBtm">Submit</button>
			</div>	
		</form>

		<form id="FindProject">
			<div class="form-group" >
		      	<div class="form-group" class="col-xs-4">
		          <label for="pIDf">Project ID:</label>
		          <input type="text" class="form-control" id="pIDf" placeholder="Enter ID">
		        </div>	
		        <button type="button" class="btn btn-primary" id="findProSubBtm">Submit</button>		
			</div>	
		</form>
	</div>
</div>


 <!-- - - - - -  - - -  - -Read Section - - - - - - - -  - -   -->


<div class="container">
	<div class="row" >

	    <form role="form" id="AddRead">
	        <div class="form-group" class="col-xs-4">
	          <label for="rloc">Location:</label>
	          <input type="text" class="form-control" id="rloc" placeholder="Enter Reads Location">
	        </div>
	        <button type="button" class="btn btn-primary" id="newReadSubBtm">Submit</button>
	    </form>	

	    <form id="AddReadNotes">
			<div class="form-group">
		      	<div class="form-group" class="col-xs-4">
		          <label for="rIDn">Read ID:</label>
		          <input type="text" class="form-control" id="rIDn" placeholder="Enter ID">
		        </div>

	  			<label for="rnote">Notes:</label>
	 			<textarea class="form-control" rows="5" id="rnote" placeholder="Any notes you would like to add"></textarea>
	 			<button type="button" class="btn btn-primary" id="readAddNoteSubBtm">Submit</button>
			</div>	
		</form>

		<form id="FindRead">
			<div class="form-group">
		      	<div class="form-group" class="col-xs-4">
		          <label for="rIDf">Read ID:</label>
		          <input type="text" class="form-control" id="rIDf" placeholder="Enter ID">
		        </div>	
		        <button type="button" class="btn btn-primary" id="findReadSubBtm">Submit</button>		
			</div>	
		</form>
	</div>
</div>

<div class="container systemInfo">
	<div class="row" >

		<table class="table table-hover">
	        <thead>
	          <tr class="active">
	            <th>Collection</th>
	            <th>Number Of</th>
	            <th>Size (MB)</th>
	            <th></th>
	          </tr>
	        </thead>
	        <tbody>
	          <tr class="success">
	            <td>Experiment</td>
	            <td id="expCount"></td>
	            <td id="expSize"></td>
	            <td><button type="button" class="btn btn-primary" onclick="updateExpCount()">Refresh</button></td>
	          </tr>
	          <tr class="warning">
	            <td>Project</td>
	            <td id="proCount"></td>
	            <td id="proSize"></td>
	            <td><button type="button" class="btn btn-primary" onclick="updateProCount()">Refresh</button></td>
	          </tr>
	          <tr class="danger">
	            <td>Read</td>
	            <td id="readCount"></td>
	            <td id="readSize"></td>
	            <td><button type="button" class="btn btn-primary" onclick="updateReadCount()">Refresh</button></td>
	          </tr>
	        </tbody>
        </table>

        <h3>Size Information</h3>

	    <div class="progress">
		  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 10%">
		    <span class="sr-only">40% Complete (success)</span>Experiments
		  </div>
       </div>
		<div class="progress">
  			<div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%">
    		<span class="sr-only">60% Complete (warning)</span>Projects
  		</div>
		</div>
		<div class="progress">
  			<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 80%">
    		<span class="sr-only">80% Complete (danger)</span>Reads
  			</div>
		</div>
	</div>
</div>

<div class="container serverDetails" onload="checkServerDetails()">
	<div class="row" >



		<div class="modal fade" id="serverDetailsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    		<div class="modal-dialog">
        		<div class="modal-content">
        		    <div class="modal-header">
               		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                		
                		<h4 class="modal-title">Server Information</h4>
            
            		</div>

            <div class="modal-body">

                <form id="serverForm" class="form-horizontal">

                	<p>
                	Please enter the IP and port number of the Server.
                	For example, <code>http://localhost:27777/</code>storall/.
                	Enter your version of the hightlighted part!
                	

                	</p>

                    <div class="form-group">
                        <label class="col-sm-3 control-label">Username</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" id="serverDetailsInput" />
                        </div>
                    </div>
                 
                    <div class="form-group">
                        <div class="col-sm-5 col-sm-offset-3">
                            <button type="submit" class="btn btn-default" id="serverDetailsSubBtm">Submit</button>
                        </div>
                    </div>

                    <p>It will be stored inside the browser using HTML5 local storage. Cleaning the cache may delete it. This will be detected and you will need to enter it again.</p>

                </form>

            </div>


        </div>
    </div>
</div>

	</div>
</div>



</body>
</html>